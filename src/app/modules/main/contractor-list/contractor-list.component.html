<div class="row main">

  <!--Nav bar-->
  <div class="nav-bar">
    <app-nav-bar></app-nav-bar>
  </div>

  <div class="common-wrapper">
    <div class="header">
      <i class="material-icons header-icon" (click)="onClickBack()">arrow_back</i>
      <p class="header-title">Выбор исполнителя</p>
    </div>

    <!--Sorting-->
    <div class="cl-sort">
      <p class="cl-sort-city">г. Бишкек</p>
      <div class="dropdown">
        <div class="row" (click)="dropdown = !dropdown">
          <p class="dropbtn">Сортировать</p>
          <div [ngClass]="{'drop-icon':!dropdown, 'drop-icon-2':dropdown}"></div>
        </div>

        <div class="dropdown-content">
          <p class="option" (click)="onSortByRating()">По рейтингу</p>
          <p class="option" (click)="onSortByPopular()">По популярности</p>
          <p class="option" (click)="onSortByPrice()">По цене</p>
        </div>
      </div>
    </div>

    <!--Contractor-->
    <div class="cl-main">

      <div class="cl" *ngFor="let master of masters">
        <div class="cl-contractor">
          <div class="cl-contractor-title">
            <img class="cl-contractor-img" src="{{master?.photo}}">
            <div class="cl-name">
              <p>{{master?.name}}</p>
              <p class="cl-name-prof">{{master?.profession}}</p>
            </div>
            <i *ngIf="master?.verifed_user" class="material-icons icon-verified">verified_user</i>
          </div>

          <div class="cl-con-1">
            <span class="cl-con-left">Рейтинг:</span><span class="cl-con-right">{{master?.rating}} из 5<span
            class="cl-con-com"> ({{master?.reviews.length}} отзывов)</span></span>
          </div>
          <div class="cl-con-1">
            <span class="cl-con-left">График работы:</span><span class="cl-con-right">{{master?.schedule}}</span>
          </div>
          <div class="cl-con-1">
            <span class="cl-con-left">Стоимость услуг:</span><span class="cl-con-right">{{master?.price}}</span>
          </div>
          <div class="cl-con-2">
            <button class="cl-info-btn" (click)="onDesc(master)">Подробнее</button>
            <button class="cl-call-btn" (click)="onClickChoose(master)">Выбрать</button>
          </div>
        </div>
      </div>

    </div>
  </div>

</div>

<!--Description popup-->
<app-master-desc *ngIf="popup" [shortDesc]="false" [modal]="popup" [master]="master" (modalClose)="closePopup($event)"></app-master-desc>
